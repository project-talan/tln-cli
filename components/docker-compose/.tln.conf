const fetch = require("node-fetch");

module.exports = {
  tags: async (tln) => [],
  options: async (tln) => [],
  dotenvs: async (tln) => [],
  depends: async (tln) => [],
  inherits: async (tln) => [],
  variables: async (tln, variables) => {},
  steps: async (tln) => [],
  components: async (tln) => {
    let result = [];
    try {
      const response = await fetch('https://api.github.com/repos/docker/compose/tags');
      const json = await response.json();
      result = json.filter( v => v.name.match(/^[0-9]/)).map( v => { return { id: `docker-compose-${v.name}` } } );
    } catch (error) {
      console.log(error);
    }
    return result;
  }
}